<div class="container-fluid" *ngIf="g.loggedIn == true">
  <br />
  <h1>Gestion de usuarios</h1>
  <hr />
  <div class="alert alert-danger" *ngIf="error">
    <h3>Error</h3>
    <p>{{ mensaje }}</p>
  </div>

  <div class="spinner-border text-dark mb-3" role="status" *ngIf="loading">
    <span class="sr-only">Cargando...</span>
  </div>
  <div class="row mb-2 text-center" style="justify-content: center;">
    <div class="col-4">
      <input
        type="name"
        class="form-control"
        placeholder="Nombre del usuario"
        [(ngModel)]="name"
      />
    </div>
    <div class="col-3">
      <button type="button" class="btn btn-success" (click)="search()">
        Buscar usuarios
      </button>
    </div>
    <div class="col-3">
      <button type="button" class="btn btn-success" (click)="openAdd()">
        Añadir
      </button>
    </div>
  </div>

  <table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nombre</th>
        <th scope="col">Teléfono</th>
        <th scope="col">Calle</th>
        <th scope="col">Número</th>
        <th scope="col">Interior</th>
        <th scope="col">Colonia</th>
        <th scope="col">Activado</th>
        <th scope="col">Editar</th>
      </tr>
    </thead>
    <tbody *ngIf="!error">
      <tr *ngFor="let user of users; let i = index">
        <td>{{ user.iduser }}</td>
        <td>{{ user.name }}</td>
        <td>{{ user.telephone }}</td>
        <td>{{ user.street }}</td>
        <td>{{ user.streetnumber }}</td>
        <td>{{ user.interior }}</td>
        <td>{{ user.colony }}</td>
        <td *ngIf="user.activated == 0">Desactivado</td>
        <td *ngIf="user.activated == 1">Activado</td>
        <td>
          <button
            type="button"
            class="btn btn-success"
            (click)="edit(user.iduser)"
          >
            Editar
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
